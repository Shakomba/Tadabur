TADABBURI QURAN - PERSISTENT AUDIO ENGINE IMPLEMENTATION GUIDE
===============================================================

STATUS: CSS Styles Added Successfully
--------------------------------------

The CSS styles for the audio player have been successfully added to css/styles.css including:

✅ Full audio bar styling (emerald gradient background)
✅ Progress bar with golden gradient  
✅ Interactive verse markers with tooltips
✅ Floating Action Button (FAB) with pulse animation
✅ Speed dropdown styling
✅ Volume slider custom styling
✅ Active ayah highlighting with golden glow animation
✅ Responsive design for mobile
✅ RTL support
✅ Accessibility focus styles
✅ Hardware acceleration optimizations

NEXT STEPS FOR JAVASCRIPT IMPLEMENTATION
-----------------------------------------

The audioPlayer.js component needs to implement these key features:

1. CORE STRUCTURE
   - Mount/unmount lifecycle
   - Render HTML for full bar + FAB
   - Setup event listeners
   - State management

2. PLAYBACK CONTROLS
   - Play/pause toggle
   - Skip forward/backward (10 seconds)
   - Progress bar seeking (RTL-aware)
   - Speed control (0.5x to 2x)
   - Volume control

3. VERSE SYNCHRONIZATION
   - Render verse markers on timeline
   - Show tooltips on hover
   - Click marker to seek
   - Auto-highlight active verse
   - Auto-scroll to active verse
   - Two-way binding (audio ↔ UI)

4. MINIMIZE/MAXIMIZE
   - Transform full bar to FAB
   - FAB pulse animation when playing
   - Click FAB to maximize and play

5. UI UPDATES
   - Update progress bar in real-time
   - Update time displays
   - Update verse info
   - Update play/pause icons
   - Kurdish number formatting

KEY CLASSES AND IDS TO USE
---------------------------

Full Bar Elements:
- #audio-bar-full (container with .audio-bar-visible class when shown)
- #progress-track (clickable progress bar)
- #progress-fill (golden fill bar)
- #progress-handle (draggable handle)
- #verse-markers (container for markers)
- #surah-name (surah name display)
- #verse-info (current verse info)
- #play-pause (main play/pause button)
- #skip-forward, #skip-backward (skip buttons)
- #current-time, #duration (time displays)
- #volume-slider (volume control)
- #speed-btn, #speed-options (speed dropdown)
- #minimize-btn (minimize button)

FAB Elements:
- #audio-fab (FAB container with .hidden class when not shown)
- #fab-btn (FAB button)
- #fab-play-icon, #fab-pause-icon (icons)
- #fab-surah-name, #fab-verse-info (tooltip content)

Verse Elements:
- .verse-marker (individual marker)
- .verse-marker-line (marker visual)
- .verse-marker-tooltip (hover tooltip)
- .active-ayah (highlighted verse in reading view)

INTEGRATION WITH EXISTING CODE
-------------------------------

The audioPlayer.js should work with:
- State.js for global state management
- AudioSync from utils/audio.js for verse synchronization
- formatDuration, toKurdishNumber from utils/formatters.js
- icon, $ from utils/dom.js for UI helpers

The backup file (audioPlayer.backup.js) contains the current implementation
which can be used as a starting point. The new implementation should add:
- Minimize/FAB functionality
- Volume control
- Enhanced verse markers
- Better mobile responsiveness

TESTING REQUIREMENTS
--------------------

Must test:
- Audio loads and plays correctly
- Progress bar seeking works (RTL-aware)
- Verse markers are clickable
- Active verse highlights and auto-scrolls
- Minimize/maximize transitions smoothly
- FAB pulse animates when playing
- Speed control changes playback rate
- Volume control adjusts audio level
- Works on mobile, tablet, and desktop
- Persists across page navigation

CSS CLASSES ALREADY STYLED
---------------------------

Use these classes for automatic styling:
- .audio-bar-full.audio-bar-visible (show player)
- .verse-marker (styled markers)
- .verse-marker:hover .verse-marker-tooltip (show tooltip)
- .speed-options.speed-options-visible (show dropdown)
- .speed-option.active (highlight active speed)
- .active-ayah (highlight active verse)
- .audio-fab.fab-playing (pulse animation)
- .volume-slider (custom styled slider)

All animations, transitions, colors, and responsive behavior are handled by CSS.

